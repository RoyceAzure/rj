FROM postgres:12-alpine

ARG POSTGRES_DB
ARG POSTGRES_HOST
ARG POSTGRES_PORT
ARG POSTGRES_USER


ENV POSTGRES_DB=${POSTGRES_DB}
ENV POSTGRES_HOST=${POSTGRES_HOST}
ENV POSTGRES_PORT=${POSTGRES_PORT}
ENV POSTGRES_USER=${POSTGRES_USER}

EXPOSE 5432

HEALTHCHECK --interval=5s --timeout=10s --retries=5 \
  CMD pg_isready -U postgres || exit 1